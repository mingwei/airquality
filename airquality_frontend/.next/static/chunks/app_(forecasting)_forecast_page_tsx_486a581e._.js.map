{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mw/MyPrj/aws_test/airquality_frontend/app/%28forecasting%29/forecast/page.tsx"],"sourcesContent":["'use client';\n\nimport { useSearchParams } from 'next/navigation';\nimport { ApiResponse } from '@/app/(forecasting)/types/type';\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\nexport default function Forecast() {\n  const searchParams = useSearchParams();\n  const data = searchParams.get('data');\n\n  if (!data) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  let forecastData: ApiResponse;\n  try {\n    forecastData = JSON.parse(decodeURIComponent(data));\n  } catch (err) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <p className=\"text-red-500\">Error parsing forecast data</p>\n      </div>\n    );\n  }\n\n  const { city_name, forecast, image_url } = forecastData;\n  // Prepend Django server URL to relative image_url\n  const fullImageUrl = image_url ? `http://localhost:8000${image_url}` : null;\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 py-8 px-4\">\n      <div className=\"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg\">\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">\n          Air Quality Forecast for {city_name}\n        </h1>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          <div>\n            <h2 className=\"text-xl font-semibold mb-4\">Forecast Details</h2>\n            <p><strong>Date:</strong> {forecast.date}</p>\n            <p><strong>PM2.5 Value:</strong> {forecast.pm25_value.toFixed(2)} µg/m³</p>\n            <p><strong>Predicted AQI:</strong> {forecast.predicted_aqi.toFixed(2)}</p>\n            <p><strong>Calculated AQI:</strong> {forecast.calculated_aqi.toFixed(2)}</p>\n            <p><strong>Category:</strong> {forecast.descriptor}</p>\n            <p>\n              <strong>Color:</strong>\n              <span\n                className=\"inline-block w-4 h-4 ml-2 rounded-full\"\n                style={{ backgroundColor: forecast.color.toLowerCase() }}\n              ></span>\n            </p>\n            <p>\n              <strong>Image URL:</strong>{' '}\n              {fullImageUrl ? (\n                <a\n                  href={fullImageUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-600 hover:underline\"\n                >\n                  View Image\n                </a>\n              ) : (\n                'No image available'\n              )}\n            </p>\n          </div>\n          <div>\n            <h2 className=\"text-xl font-semibold mb-4\">Air Quality Visualization</h2>\n            {fullImageUrl ? (\n              <Image\n                src={fullImageUrl}\n                alt={`Air quality visualization for ${city_name}`}\n                width={800}\n                height={600}\n                className=\"w-full h-auto rounded-lg shadow-md\"\n              />\n            ) : (\n              <p className=\"text-gray-500\">No image available</p>\n            )}\n          </div>\n        </div>\n        <Link href=\"/\">\n          <button className=\"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\">\n            Back to Input\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAGA;AACA;;;AANA;;;;AAQe,SAAS;;IACtB,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,OAAO,aAAa,GAAG,CAAC;IAE9B,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,IAAI;IACJ,IAAI;QACF,eAAe,KAAK,KAAK,CAAC,mBAAmB;IAC/C,EAAE,OAAO,KAAK;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAe;;;;;;;;;;;IAGlC;IAEA,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG;IAC3C,kDAAkD;IAClD,MAAM,eAAe,YAAY,CAAC,qBAAqB,EAAE,WAAW,GAAG;IAEvE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;;wBAAsC;wBACxB;;;;;;;8BAE5B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;;sDAAE,6LAAC;sDAAO;;;;;;wCAAc;wCAAE,SAAS,IAAI;;;;;;;8CACxC,6LAAC;;sDAAE,6LAAC;sDAAO;;;;;;wCAAqB;wCAAE,SAAS,UAAU,CAAC,OAAO,CAAC;wCAAG;;;;;;;8CACjE,6LAAC;;sDAAE,6LAAC;sDAAO;;;;;;wCAAuB;wCAAE,SAAS,aAAa,CAAC,OAAO,CAAC;;;;;;;8CACnE,6LAAC;;sDAAE,6LAAC;sDAAO;;;;;;wCAAwB;wCAAE,SAAS,cAAc,CAAC,OAAO,CAAC;;;;;;;8CACrE,6LAAC;;sDAAE,6LAAC;sDAAO;;;;;;wCAAkB;wCAAE,SAAS,UAAU;;;;;;;8CAClD,6LAAC;;sDACC,6LAAC;sDAAO;;;;;;sDACR,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,SAAS,KAAK,CAAC,WAAW;4CAAG;;;;;;;;;;;;8CAG3D,6LAAC;;sDACC,6LAAC;sDAAO;;;;;;wCAAoB;wCAC3B,6BACC,6LAAC;4CACC,MAAM;4CACN,QAAO;4CACP,KAAI;4CACJ,WAAU;sDACX;;;;;mDAID;;;;;;;;;;;;;sCAIN,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;gCAC1C,6BACC,6LAAC,gIAAA,CAAA,UAAK;oCACJ,KAAK;oCACL,KAAK,CAAC,8BAA8B,EAAE,WAAW;oCACjD,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;yDAGZ,6LAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;;;;;;;8BAInC,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;8BACT,cAAA,6LAAC;wBAAO,WAAU;kCAA8F;;;;;;;;;;;;;;;;;;;;;;AAO1H;GAvFwB;;QACD,qIAAA,CAAA,kBAAe;;;KADd","debugId":null}}]
}